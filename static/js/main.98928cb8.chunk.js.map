{"version":3,"sources":["components/Logout.js","components/Login.js","components/Reconnect.js","components/Profile.js","components/Monitor.js","components/Home.js","App.js","providers/ConfigProvider.js","index.js"],"names":["StyledButton","styled","button","LogoutButton","logout","useAuth0","onClick","returnTo","window","location","origin","Flex","div","StyledDiv","Login","loginWithRedirect","withRouter","reload","UserInfoDiv","Profile","isAuthenticated","isLoading","Logout","StatusBar","Circle","props","status","streaming","StyledP","p","WrapperData","isLabel","Monitor","useState","data","setData","setStatus","serverRetry","blinkRetry","prevBlink","startUp","fetchData","axios","get","then","res","console","log","checkBlink","catch","err","setTimeout","Date","resData","blink","indicator","contents","storeData","Array","isArray","useEffect","map","item","i","key","label","value","Wrapper","Home","user","name","App","exact","path","component","ConfigContext","React","createContext","ConfigProvider","blinkVar","setBlinkVar","Provider","children","ReactDOM","render","StrictMode","domain","clientId","redirectUri","document","getElementById"],"mappings":"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","file":"static/js/main.98928cb8.chunk.js","sourcesContent":["import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport styled from 'styled-components';\nconst LogoutButton = () => {\n  const { logout } = useAuth0();\n\n  return (\n    <StyledButton onClick={() => logout({ returnTo: window.location.origin })}>\n      Log Out\n    </StyledButton>\n  );\n};\n\nconst StyledButton = styled.button`\n  \n  \n\n\tbox-shadow: 0px 10px 14px -7px #3e7327;\n\tbackground:linear-gradient(to bottom, #77b55a 5%, #72b352 100%);\n\tbackground-color:#77b55a;\n\tborder-radius:4px;\n\tborder:1px solid #4b8f29;\n\tdisplay:inline-block;\n\tcursor:pointer;\n\tcolor:#ffffff;\n\tfont-family:Arial;\n\tfont-size:18px;\n\tfont-weight:bold;\n\tpadding:12px 18px;\n\ttext-decoration:none;\n\ttext-shadow:0px 1px 0px #5b8a3c;\n`\nexport default LogoutButton;","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport styled from 'styled-components'\n\nconst Login = () => {\n  const { loginWithRedirect } = useAuth0();\n\n  return (\n    <Flex>\n      <StyledDiv>\n    Vibration Test Remote Access\n      </StyledDiv>\n      <div>\n        <StyledButton onClick={() => loginWithRedirect()}>Log In</StyledButton>\n      </div>\n    </Flex>\n  )\n};\nconst Flex = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\nconst StyledDiv = styled.div`\n  font-size: 24px;\n  padding: 1rem 0rem;\n`\nconst StyledButton = styled.button`\n\tbox-shadow: 0px 10px 14px -7px #3e7327;\n\tbackground:linear-gradient(to bottom, #77b55a 5%, #72b352 100%);\n\tbackground-color:#77b55a;\n\tborder-radius:4px;\n\tborder:1px solid #4b8f29;\n\tdisplay:inline-block;\n\tcursor:pointer;\n\tcolor:#ffffff;\n\tfont-family:Arial;\n\tfont-size:18px;\n\tfont-weight:bold;\n\tpadding:18px 36px;\n\ttext-decoration:none;\n\ttext-shadow:0px 1px 0px #5b8a3c;\n`\nexport default Login;\n","import React from 'react';\n// import axios from 'axios';\nimport styled from 'styled-components';\nimport { withRouter } from \"react-router-dom\";\n\nconst Reconnect = () => {\n  const handleClick = () => {\n    window.location.reload(false)\n  }\n  return(\n    <StyledButton onClick={handleClick}>Refresh</StyledButton>\n  )\n\n}\n\nexport default withRouter(Reconnect)\n\nconst StyledButton = styled.button`\n\tbox-shadow: 0px 10px 14px -7px #3e7327;\n\tbackground:linear-gradient(to bottom, #77b55a 5%, #72b352 100%);\n\tbackground-color:#77b55a;\n\tborder-radius:4px;\n\tborder:1px solid #4b8f29;\n\tdisplay:inline-block;\n\tcursor:pointer;\n\tcolor:#ffffff;\n\tfont-family:Arial;\n\tfont-size:18px;\n\tfont-weight:bold;\n\tpadding:12px 18px;\n\ttext-decoration:none;\n\ttext-shadow:0px 1px 0px #5b8a3c;\n`","\nimport React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Logout from './Logout';\nimport Login from './Login';\nimport styled from 'styled-components';\nimport Reconnect from \"./Reconnect\";\n\nconst Profile = () => {\n  const { isAuthenticated, isLoading } = useAuth0();\n\n  if (isLoading) {\n    return <div>Loading ...</div>;\n  }\n\n  return (\n    <div>\n      {isAuthenticated \n      \n      ? \n\n        <UserInfoDiv>\n          <Reconnect/>\n          <Logout />\n        </UserInfoDiv>\n      :\n\n        \n          <Login />\n        \n      }\n    </div>\n  );\n};\n\n// const StyledP = styled.p`\n//   white-space: nowrap;\n//   overflow: hidden;\n//   text-overflow: ellipsis;\n//   font-size: 24px;\n// `\nconst UserInfoDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`\n// const StyledImage = styled.img`\n//   height: 50px;\n//   width: 50px;\n// `\nexport default Profile;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\n\nconst Monitor = () => {\n  const [ data, setData ] = useState([])\n  const [ status, setStatus ] = useState(\"Connecting...\")\n  const streaming = \"Data Streaming Live\"\n  const initialBlink = 30\n  let serverRetry = 5\n  let blinkRetry = initialBlink\n  let prevBlink = 0\n  let startUp = 0\n\n  const fetchData = () => {\n    axios.get('/api/shakerdata.txt')\n      .then(res => {\n        console.log(res.data, \"<-res.data\")\n        serverRetry = 5\n        checkBlink(res.data) \n      })\n      .catch(err => {\n        console.log(err)\n        serverRetry --\n        setStatus(`Retrying...(Web Server Error) ${serverRetry}`)\n        if (serverRetry > 0 ) {\n          setTimeout(() => {\n            fetchData()\n          }, 3000)\n        } else {\n          setStatus(\"Disconnected (Web Server Error)\")\n          console.log( new Date(), '<---END')\n        }\n      }) \n  }\n\n  const checkBlink = (resData) => {\n    let blink = resData.indicator\n    let contents = resData.contents\n\n    if (blink) {\n      if (prevBlink !== blink) {\n        startUp === 0 && setStatus(\"Initializing...\")\n        storeData(contents)\n        prevBlink = blink \n      } else {\n        if (blinkRetry > 0) {\n          console.log(\"DUPLICATE DATA -- TRYING AGAIN\", blinkRetry)\n          if (blinkRetry < 7) {\n            startUp === 2 ? setStatus(\"Reconnecting...\") : setStatus(\"Retrying...\")\n          }\n          blinkRetry --\n          setTimeout(() => {\n            fetchData()\n          }, 750);\n        } else {\n          startUp === 2 ? setStatus(\"Disconnected\") : setStatus(\"Not Connected\")\n          console.log( new Date(), '<---END')\n        }\n      }\n    } else {\n      console.log(\"INVALID DATA TYPE, trying again ...\")\n      setTimeout(() => {\n        fetchData()\n      }, 5000);  \n    }\n  }\n\n  const storeData = (contents) => {\n    blinkRetry = initialBlink\n    if (Array.isArray(contents)) {\n      startUp > 0 && setData(contents)\n      if (startUp === 1){\n        setStatus(streaming)\n        setTimeout(() => {\n          startUp = 2\n          fetchData()\n        }, 1000); \n      } else if (startUp === 0 ) {\n        setTimeout(() => {\n          startUp = 1\n          fetchData()\n        }, 1000); \n      } else {\n        status !== streaming && setStatus(streaming)\n        setTimeout(() => {\n          fetchData()\n        }, 1000);  \n      }\n    } else {\n      console.log(\"INVALID DATA TYPE, trying again...\")\n      setTimeout(() => {\n        fetchData()\n      }, 5000);  \n    }\n  }\n\n  useEffect(fetchData, []);\n \n  return(\n    <>\n      <StatusBar>\n        <Circle status={status} streaming={streaming}/> \n        <StyledP> {status} </StyledP>\n      </StatusBar>\n      { data.map( (item, i) => (\n        <WrapperData key={i}>\n        <StyledDiv isLabel={true}>\n        {item.label}\n          </StyledDiv>\n          <StyledDiv>\n            {item.value}\n          </StyledDiv>\n        </WrapperData>\n      ))}\n    </>\n  )\n}\nconst StatusBar = styled.div`\n  display: flex;\n  align-items: center;\n  padding-left: 1rem;\n`\nconst Circle = styled.div`\n  background-color: \n    ${ props => props.status === props.streaming \n      ? \"#92d150\" \n      : props.status === \"Initializing...\" || props.status === \"Reconnecting...\" || props.status === \"Retrying...\" || props.status === \"Retrying...(Web Server Error)\"\n      ? \"#d1cf50\" \n      : \"maroon\" \n    };\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n`\nconst StyledP = styled.p`\n  padding: 0 1rem;\n`\n// const Flex = styled.div`\n//   display: flex;\n//   justify-content: space-between;\n//   padding: 0 0 0.5rem 0;\n// `\nconst WrapperData = styled.div`\n  padding-bottom: 1rem;\n`\nconst StyledDiv = styled.div`\n  font-size: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${props => props.isLabel ? \"#d9d9d9\" : \"#92d150\"};\n  padding: ${props => props.isLabel ? \"0.25rem\" : \"0.5rem\"};\n`\n\nexport default Monitor","import React from 'react';\n// import axios from 'axios';\nimport styled from 'styled-components';\nimport Profile from './Profile';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Monitor from './Monitor';\n\nconst Home = () => {\n  const { isAuthenticated, user } = useAuth0();\n  \n  return (\n    <>\n      {isAuthenticated && \n        <StyledP>{user.name}</StyledP>\n      }\n      <Wrapper>\n        <Profile/>\n        {isAuthenticated &&\n            <Monitor/> \n        }\n      </Wrapper>\n    </>\n  )\n}\n\nconst Wrapper = styled.div`\n  padding: 1rem\n`\nconst StyledP = styled.p`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n  text-align: right;\n  padding-right: 1rem;\n  line-height: 1rem;\n`\n\nexport default Home","import React from 'react';\nimport Home from './components/Home';\n// import Camera from './components/Camera';\n// import camIcon from './icons/cam.svg';\n// import camOffIcon from './icons/cam_off.svg';\n// import styled from 'styled-components';\nimport { Switch, Route } from 'react-router-dom';\nimport Login from './components/Login';\n\nconst App = () => {\n\n  return(\n    <Switch>\n      <Route exact path='/' component={Home} />\n      <Route exact path='/login' component={Login} />\n    </Switch>\n  )\n}\n\n\n// const CameraDiv = styled.div`\n//   position: fixed;\n//   top: 0rem;\n//   right: 0.25rem;\n//   height: 60px;\n//   width: 60px;\n//   background: url(${props => props.showCam ? camOffIcon : camIcon});\n//   background-size: cover;\n//   background-repeat: no-repeat;\n//   background-position: center;\n//   z-index: 1;\n//   filter: opacity(${props => props.showCam ? \"50%\" : \"100%\"});\n// `\n\nexport default App;\n","import React, { useState } from 'react';\n\nexport const ConfigContext = React.createContext()\n\nexport const ConfigProvider = (props) => {\n  const [ blinkVar, setBlinkVar ] = useState(909);\n\n  return(\n    <ConfigContext.Provider value={{\n      blinkVar,\n      setBlinkVar\n    }}>\n      {props.children}\n    </ConfigContext.Provider>\n  )\n}\n\nexport default ConfigProvider","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\nimport { BrowserRouter, } from 'react-router-dom';\nimport { ConfigProvider } from './providers/ConfigProvider';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Auth0Provider\n      domain=\"dev-r0nitb6u.us.auth0.com\"\n      clientId=\"v3vradqPJ3vj3RY5Pyh2fYGa5f6ErYdB\"\n      redirectUri={window.location.origin}\n      >\n        <ConfigProvider>\n          <BrowserRouter>\n            <App />\n          </BrowserRouter>\n        </ConfigProvider>\n    </Auth0Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}